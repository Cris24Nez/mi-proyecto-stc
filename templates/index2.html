<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Ejercicio 3: Levantamiento de dedos</title>
      <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script>
        function detenerEjercicio() {
            fetch('/detener', { method: 'POST' })
                .then(response => response.json())
                .then(data => {
                    document.getElementById("mensaje").innerText = data.mensaje;
                });
        }

        function reiniciarEjercicio() {
            fetch('/reiniciar', { method: 'POST' })
                .then(response => response.json())
                .then(data => {
                    document.getElementById("mensaje").innerText = data.mensaje;
                    // Recargar la imagen del video reiniciándola: si el generador se ha detenido, 
                    // puedes forzar la recarga de la página para reiniciar el flujo
                    location.reload();
                });
        }
    </script>
</head>
<body>
    <h1>Ejercicio 3: Levantamiento de dedos</h1>
    <p><strong>Instrucciones:</strong> El ejercicio durará 60 segundos, o puedes detenerlo y reiniciarlo manualmente.</p>
    
    <img src="{{ url_for('video_feed2') }}" width="640" height="480">
    
    <br><br>
    <button onclick="detenerEjercicio()">Detener ejercicio</button>
    <button onclick="reiniciarEjercicio()">Reiniciar ejercicio</button>
    <p id="mensaje" style="color: red; font-weight: bold;"></p>
    <a href="{{ url_for('ejeractivos') }}">Volver</a>

</body>
</html>